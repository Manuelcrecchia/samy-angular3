<div class="container py-3">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="m-0 text-dark" mat-dialog-title>Assegna Dipendenti</h2>
  </div>

  <mat-dialog-content *ngIf="data">
    <p>
      <strong>Orario:</strong> {{ data.startDate | date : "HH:mm" }} -
      {{ data.endDate | date : "HH:mm" }}
    </p>
    <p><strong>Cliente:</strong> {{ data.title }}</p>
    <p><strong>Dipendenti richiesti:</strong> {{ data.requiredEmployees }}</p>

    <mat-selection-list [(ngModel)]="selectedEmployees">
      <mat-list-option
        *ngFor="let e of employees"
        [value]="e.id"
        [ngClass]="{ 'busy': isBusy(e.id) }"
      >
        {{ e.nome }} {{ e.cognome }}
        <span *ngIf="isBusy(e.id)"> (occupato)</span>
      </mat-list-option>
    </mat-selection-list>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">Annulla</button>
    <button mat-button color="primary" (click)="onSave()">Salva</button>
  </mat-dialog-actions>
</div>
